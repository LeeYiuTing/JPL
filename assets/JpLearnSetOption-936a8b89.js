import{c as j,d as G,u as re,w as R,a as le,b as l,n as x,e as U,f as H,g as oe,m as me,t as w,r as V,h as y,I as be,i as N,j as ve,p as fe,k as K,l as I,o as ge,q,v as O,H as X,s as Z,x as ee,y as he,z as _e,A,B as ke,C as Se,L as Ce,_ as Ve,D as L,E as J,F as m,G as ne,J as ae,K as te,M as B,N as ye,O as Te,P as Pe,Q as we,R as xe,S as Ie,T as Le,U as Ne}from "./index-653abdc5.js";import{k as Be}from "./kana-74f6ec4e.js";import{N as pe}from "./index-fec7bfd6.js";import{C as Ee}from "./index-a75c5c9e.js";import{C as Fe}from "./index-6f196bab.js";import{F as ze}from "./index-31b7a3a6.js";const[ie,De]=j("radio-group"),Re={shape:String,disabled:Boolean,iconSize:x,direction:String,modelValue:U,checkedColor:String},se=Symbol(ie);var Ge=G({name:ie,props:Re,emits:["change","update:modelValue"],setup(e, {emit:a,slots:c}){const{linkChildren:t}=re(se),s= u=>a("update:modelValue",u);return R(()=>e.modelValue, u=>a("change",u)),t({props:e,updateValue:s}),le(()=>e.modelValue),()=>{var u;return l("div",{class:De([e.direction]),role:"radiogroup"},[(u=c.default)==null?void 0:u.call(c)])}}});const Me=H(Ge),ue={name:U,disabled:Boolean,iconSize:x,modelValue:U,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var qe=G({props:oe({},ue,{bem:me(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:w,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e, {emit:a,slots:c}){const t=V(),s= o=>{if(e.parent&&e.bindGroup)return e.parent.props[o]},u=y(()=>{if(e.parent&&e.bindGroup){const o=s("disabled")||e.disabled;if(e.role==="checkbox"){const f=s("modelValue").length,g=s("max"),k=g&&f>=+g;return o||k&&!e.checked}return o}return e.disabled}),i=y(()=>s("direction")),b=y(()=>{const o=e.checkedColor||s("checkedColor");if(o&&e.checked&&!u.value)return{borderColor:o,backgroundColor:o}}),v=y(()=>e.shape||s("shape")||"round"),T= o=>{const{target:f}=o,g=t.value,k=g===f||(g==null?void 0:g.contains(f));!u.value&&(k||!e.labelDisabled)&&a("toggle"),a("click",o)},C=()=>{var o,f;const{bem:g,checked:k,indeterminate:r}=e,S=e.iconSize||s("iconSize");return l("div",{ref:t,class:g("icon",[v.value,{disabled:u.value,checked:k,indeterminate:r}]),style:v.value!=="dot"?{fontSize:N(S)}:{width:N(S),height:N(S),borderColor:(o=b.value)==null?void 0:o.borderColor}},[c.icon?c.icon({checked:k,disabled:u.value}):v.value!=="dot"?l(be,{name:r?"minus":"success",style:b.value},null):l("div",{class:g("icon--dot__icon"),style:{backgroundColor:(f=b.value)==null?void 0:f.backgroundColor}},null)])},P=()=>{const{checked:o}=e;if(c.default)return l("span",{class:e.bem("label",[e.labelPosition,{disabled:u.value}])},[c.default({checked:o,disabled:u.value})])};return()=>{const o=e.labelPosition==="left"?[P(),C()]:[C(),P()];return l("div",{role:e.role,class:e.bem([{disabled:u.value,"label-disabled":e.labelDisabled},i.value]),tabindex:u.value?void 0:0,"aria-checked":e.checked,onClick:T},[o])}}});const Oe=oe({},ue,{shape:String}),[Ae,Je]=j("radio");var Ue=G({name:Ae,props:Oe,emits:["update:modelValue"],setup(e, {emit:a,slots:c}){const{parent:t}=ve(se),s=()=>(t?t.props.modelValue:e.modelValue)===e.name,u=()=>{t?t.updateValue(e.name):a("update:modelValue",e.name)};return()=>l(qe,K({bem:Je,role:"radio",parent:t,checked:s(),onToggle:u},e),fe(c,["default","icon"]))}});const Ke=H(Ue),[je,z]=j("stepper"),He=200,D=(e, a)=>String(e)===String(a),$e={min:I(1),max:I(1/0),name:I(""),step:I(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:w,showMinus:w,showInput:w,longPress:w,autoFixed:w,allowEmpty:Boolean,modelValue:x,inputWidth:x,buttonSize:x,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:I(1),decimalLength:x};var We=G({name:je,props:$e,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e, {emit:a}){const c=(n, d=!0)=>{const{min:h,max:E,allowEmpty:_,decimalLength:F}=e;return _&&n===""||(n=Z(String(n),!e.integer),n=n===""?0:+n,n=Number.isNaN(n)?+h:n,n=d?Math.max(Math.min(+E,n),+h):n,ee(F)&&(n=n.toFixed(+F))),n},t=()=>{var n;const d=(n=e.modelValue)!=null?n:e.defaultValue,h=c(d);return D(h,e.modelValue)||a("update:modelValue",h),h};let s;const u=V(),i=V(t()),b=y(()=>e.disabled||e.disableMinus||+i.value<=+e.min),v=y(()=>e.disabled||e.disablePlus||+i.value>=+e.max),T=y(()=>({width:N(e.inputWidth),height:N(e.buttonSize)})),C=y(()=>ge(e.buttonSize)),P=()=>{const n=c(i.value);D(n,i.value)||(i.value=n)},o= n=>{e.beforeChange?ke(e.beforeChange,{args:[n],done(){i.value=n}}):i.value=n},f=()=>{if(s==="plus"&&v.value||s==="minus"&&b.value){a("overlimit",s);return}const n=s==="minus"?-e.step:+e.step,d=c(Se(+i.value,n));o(d),a(s)},g= n=>{const d=n.target,{value:h}=d,{decimalLength:E}=e;let _=Z(String(h),!e.integer);if(ee(E)&&_.includes(".")){const Q=_.split(".");_=`${Q[0]}.${Q[1].slice(0,+E)}`}e.beforeChange?d.value=String(i.value):D(h,_)||(d.value=_);const F=_===String(+_);o(F?+_:_)},k= n=>{var d;e.disableInput?(d=u.value)==null||d.blur():a("focus",n)},r= n=>{const d=n.target,h=c(d.value,e.autoFixed);d.value=String(h),i.value=h,he(()=>{a("blur",n),_e()})};let S,p;const $=()=>{p=setTimeout(()=>{f(),$()},He)},ce=()=>{e.longPress&&(S=!1,clearTimeout(p),p=setTimeout(()=>{S=!0,f(),$()},Ce))},W= n=>{e.longPress&&(clearTimeout(p),S&&A(n))},de= n=>{e.disableInput&&A(n)},Y= n=>({onClick: d=>{A(d),s=n,f()},onTouchstartPassive:()=>{s=n,ce()},onTouchend:W,onTouchcancel:W});return R(()=>[e.max,e.min,e.integer,e.decimalLength],P),R(()=>e.modelValue, n=>{D(n,i.value)||(i.value=c(n))}),R(i, n=>{a("update:modelValue",n),a("change",n,{name:e.name})}),le(()=>e.modelValue),()=>l("div",{role:"group",class:z([e.theme])},[q(l("button",K({type:"button",style:C.value,class:[z("minus",{disabled:b.value}),{[X]:!b.value}],"aria-disabled":b.value||void 0},Y("minus")),null),[[O,e.showMinus]]),q(l("input",{ref:u,type:e.integer?"tel":"text",role:"spinbutton",class:z("input"),value:i.value,style:T.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":i.value,onBlur:r,onInput:g,onFocus:k,onMousedown:de},null),[[O,e.showInput]]),q(l("button",K({type:"button",style:C.value,class:[z("plus",{disabled:v.value}),{[X]:!v.value}],"aria-disabled":v.value||void 0},Y("plus")),null),[[O,e.showPlus]])])}});const Ye=H(We),Qe={name:"JpLearnSetOption",setup(){const e=V(1),a=V(1),c=V(1),t=V(!1),s=V(Be);return{kanaType:e,rowNum:a,obfuscation:t,kanaList:s,quesType:c,goLearn:()=>{let i="/JpLearnTY";c.value===2&&(i="/JpLearnTX"),Pe.push({path:i,query:{kanaType:e.value,rowNum:a.value,obfuscation:t.value}})}}}},M= e=>(Le("data-v-6561d1dd"),e=e(),Ne(),e),Xe={class:"JpLearnSetOption"},Ze=M(()=>B("div",{class:"form-title"},"假名选择",-1)),en=M(()=>B("div",{class:"form-title"},"题型",-1)),nn=M(()=>B("div",{class:"form-title"},"行数选择",-1)),an=M(()=>B("div",{class:"form-title"},"行数选择",-1)),tn={class:"show-kana"};function ln(e, a, c, t, s, u){const i=pe,b=Ke,v=Ee,T=Fe,C=Me,P=Ye,o=ze,f=we,g=xe,k=Ie;return L(),J("div",Xe,[l(i,{title:"假名闯关设置"}),Ze,l(C,{modelValue:t.kanaType,"onUpdate:modelValue":a[2]||(a[2]= r=>t.kanaType=r)},{default:m(()=>[l(T,{inset:""},{default:m(()=>[l(v,{title:"平假",clickable:"",onClick:a[0]||(a[0]= r=>t.kanaType=1)},{"right-icon":m(()=>[l(b,{name:1})]),_:1}),l(v,{title:"片假",clickable:"",onClick:a[1]||(a[1]= r=>t.kanaType=2)},{"right-icon":m(()=>[l(b,{name:2})]),_:1})]),_:1})]),_:1},8,["modelValue"]),en,l(C,{modelValue:t.quesType,"onUpdate:modelValue":a[5]||(a[5]= r=>t.quesType=r)},{default:m(()=>[l(T,{inset:""},{default:m(()=>[l(v,{title:"听音",clickable:"",onClick:a[3]||(a[3]= r=>t.quesType=1)},{"right-icon":m(()=>[l(b,{name:1})]),_:1}),l(v,{title:"听写",clickable:"",onClick:a[4]||(a[4]= r=>t.quesType=2)},{"right-icon":m(()=>[l(b,{name:2})]),_:1})]),_:1})]),_:1},8,["modelValue"]),nn,an,l(T,{inset:""},{default:m(()=>[l(o,{label:"行数"},{button:m(()=>[l(P,{modelValue:t.rowNum,"onUpdate:modelValue":a[6]||(a[6]= r=>t.rowNum=r),max:19},null,8,["modelValue"])]),_:1}),(L(!0),J(ne,null,ae(t.rowNum, r=>(L(),te(o,null,{"left-icon":m(()=>[l(g,{gutter:"28",justify:"space-between"},{default:m(()=>[(L(!0),J(ne,null,ae(t.kanaList[r], S=>(L(),te(f,null,{default:m(()=>[B("div",tn,ye(t.kanaType===1?S.Hiragana:S.Katakana),1)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024))),256))]),_:1}),l(k,{round:"",type:"success",size:"large",onClick:t.goLearn,class:"lock-to-bottom"},{default:m(()=>[Te("Go!")]),_:1},8,["onClick"])])}const mn=Ve(Qe,[["render",ln],["__scopeId","data-v-6561d1dd"]]);export{mn as default};
